import{e as g,i as S,t as I,u as h}from"./chunk-KBZ5MVFZ.js";import{Bb as L,U as a,V as l,Ya as u,Z as f,Za as v,_ as i,lb as y,mb as b,o as d}from"./chunk-4RS3KPC3.js";var r=class{};var s=class e{constructor(t){this._leadsGatewayService=t}get(t){return this._leadsGatewayService.get(t)}static \u0275fac=function(o){return new(o||e)(f(r))};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var n=class e{leadsService=i(s);ngOnInit(){this.getLeads()}getLeads(){this.leadsService.get({}).subscribe(t=>{console.log({leads:t})})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=u({type:e,selectors:[["app-leads"]],decls:2,vars:0,template:function(o,c){o&1&&(y(0,"h1"),L(1,"LEADS"),b())},encapsulation:2})};var w=[{path:"",component:n}];var m=class e{_proxy=i(h);get(t){let o=localStorage.getItem("token");if(o){let{access_token:c}=JSON.parse(o),{userId:R}=JSON.parse(localStorage.getItem("user")||"")||{userId:""},C={method:"GET",url:`https://api.mercadolibre.com/vis/users/${R}/leads/buyers`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}};return this._proxy.useProxy(C)}return d(()=>new Error("No token provided"))}addHeaderToken(t){return new S({Authorization:`Bearer ${t}`})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var x=class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=v({type:e});static \u0275inj=l({providers:[s,{provide:r,useClass:m}],imports:[g,I.forChild(w)]})};export{x as LeadsModule};
